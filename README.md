# Краткое описание

Данный пакет позволяет сгенерировать траффик на карте Carla_Town03 около круга на этой карте для реализации сценария проезда этого круга. Автомобили траффика при этом управляются автоматически с помощью Carla Autopilot и поэтому сценарий получается несколько стохастическим. Однако в любом случае каждая машина трафика должна заехать на круг перед тем как её движение начнет как-то варьироваться.

# Подготовка

Скопируйте эту папку в репозитория carla-apollo-bridge, чтобы сохранилась следующая структура:

carla-apollo-bridge

|--carla-common

|--carla_cyber_bridge

|--**carla_python_0.9.13**

|--docker

|--**circle_test**

....

Укажите желаемые точки появления треффика на карте. Для этого отредактируйте файл __data/circle_town03.xml__. Там по умолчанию уже хранятся необходимые данные.

# Использование

- Запустите Carla
- Запустите Apollo
- Выберите и там и там карту Carla_Town03
- Запустите carla_apollo_bridge
- Выполните python examples/manual_control_13.py из пакета carla_apollo_bridge
- Выполните python circle_test/circle_traffic_default_planner.py

Если все настроено верно - вокруг круга на карте появятся автомобили, и можно начинать выполнять сценарий в разном виде - вручную, с помощью планировщика apollo, или ещё как-то.

При этом в терминале процесс circle_traffic_default_planner.py будет выполняться бесконечно. Он при этом ничего не делает, но так сделано специально чтобы по команде Ctrl+C можно было выззвать исключение KeyboardInterrupt, после которого скрипт автоматически удалит все машины траффика.

# Описание

Пакет состоит из трех компонент: 
1)data_reader.py
2)basic_maneuver.py
3)circle_traffic_default_planner.py

А также из папки data, содержащей xml-файлы

Первый компонент отвечает за чтение xml-файлов и экстракции оттуда данных о траффике. Также и в компоненте и в самих файлах предусмотрена возможность задавать стартовое положение ego-vehicle, но пока это не используется

Второй компонент содержит базовые функции для работы с Carla -- сгенерировать машину, уничтожить машину, сгенерировать серию машин и тд.

Третий компонент связывает первые два и реализует логику появления машин на карте

